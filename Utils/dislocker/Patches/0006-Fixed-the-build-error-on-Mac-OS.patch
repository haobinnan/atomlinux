From b1ecebd09151d5ac20d6bae4f96b6b7359e3d283 Mon Sep 17 00:00:00 2001
From: haobinnan <haobinnan@gmail.com>
Date: Sat, 31 Aug 2019 08:22:06 +0800
Subject: [PATCH 4/6] Fixed the build error on Mac OS

---
 src/inouts/inouts.c     | 3 ++-
 src/metadata/metadata.c | 3 ++-
 2 files changed, 4 insertions(+), 2 deletions(-)

diff --git a/src/inouts/inouts.c b/src/inouts/inouts.c
index a26cc64..44c8238 100644
--- a/src/inouts/inouts.c
+++ b/src/inouts/inouts.c
@@ -27,7 +27,8 @@
 #include "dislocker/config.priv.h"
 
 #include <sys/ioctl.h>
-#include <linux/fs.h>
+
+#define BLKGETSIZE64 _IOR(0x12,114,size_t)	/* return device size in bytes (u64 *arg) */
 
 
 /**
diff --git a/src/metadata/metadata.c b/src/metadata/metadata.c
index 6eb8620..e3e3d79 100644
--- a/src/metadata/metadata.c
+++ b/src/metadata/metadata.c
@@ -29,7 +29,8 @@
 #include "dislocker/dislocker.priv.h"
 
 #include <sys/ioctl.h>
-#include <linux/fs.h>
+
+#define BLKSSZGET  _IO(0x12,104)/* get block device sector size */
 
 /*
  * On Darwin and FreeBSD, files are opened using 64 bits offsets/variables
-- 
2.25.1

